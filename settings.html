<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="assets/bootstrap.min.css">
    <link rel="stylesheet" href="assets/style.css"> 
    <title>To-Do Make - Settings</title>
</head>

<body class="settings-body">
    <div class="container d-flex settings-container flex-nowrap">
        <div class="col-4 me-5" id="settings-sidebar">
            <div class="settings-title">
                Settings
            </div>
            <div class="settings-entry selected" id="appearance">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" class="bi bi-display-fill settings-icon" viewBox="0 0 16 16">
                    <path d="M5 3.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-7zM0 3a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H1z"/>
                </svg>
                Appearance
            </div>
            <div class="settings-entry" id="indexing">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" class="bi bi-clipboard-check settings-icon" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0"/>
                    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1
-1h-1z"/>
            <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0z"/>
                </svg>
                Indexing
            </div>
            <div class="settings-entry" id="backup">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" class="bi bi-device-ssd settings-icon" viewBox="0 0 16 16">
                    <path d="M4.75 4a.75.75 0 0 0-.75.75v3.5c0 .414.336.75.75.75h6.5a.75.75 0 0 0 .75-.75v-3.5a.75.75 0 0 0-.75-.75zM5 8V5h6v3zm0-5.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m7 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M4.5 11a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1m7 0a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"/>
                    <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm11 12V2a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1v-2a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2a1 1 0 0 0 1-1m-7.25 1v-2H5v2zm1.75 0v-2h-.75v2zm1.75 0v-2H8.5v2zM11 13h-.75v2H11z"/>
                </svg>
                Backup and Restore
            </div>

            <div class="settings-entry" id="about">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" class="bi bi-info-circle settings-icon" viewBox="0 0 16 16">
                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                    <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
                </svg>
                About
            </div>
        </div>
        <div class="col-8">
            <div class="settings-pane" id="appearance-pane">
                <div class="section-heading">
                    Wallpaper
                </div>
                <div class="row flex settings-section align-contents-center">
                    <div class="col-auto zero-margin zero-padding">Change background on To-Do List and Notebook pages
                    </div>
                    <div class="col-auto zero-margin zero-padding">
                        <button class="btn btn-primary background-reset-btn">Restore to default</button>
                    </div>
                    <div class="col-auto zero-margin zero-padding">
                        <label for="backgroundInput" class="btn btn-primary browse-background-btn">Browse for background</label>
                        <input type="file" id="backgroundInput" name="jsonBackgroundInput" accept="image/*" style="display: none;" />
                    </div>
                </div>
            </div>

            <div class="settings-pane hidden" id="backup-pane">
                <div class="col">
                    <label for="jsonAllInput" class="btn btn-primary restore-all-btn">Restore all from JSON file</label>
                    <input type="file" id="jsonAllInput" name="jsonAllInput" accept=".json" style="display: none;" />
                    <button class="btn btn-primary import-selection-btn">Import Data for Selection</button>
                </div>
                <div class="col">
                    <ul class="nav nav-tabs" id="backupTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <a class="nav-link active" id="notes-tab" data-bs-toggle="tab" href="#notes" role="tab">Notes</a>
                        </li>
                        <li class="nav-item" role="presentation">
                            <a class="nav-link" id="tasks-tab" data-bs-toggle="tab" href="#tasks" role="tab">Tasks</a>
                        </li>
                        <li class="nav-item" role="presentation">
                            <a class="nav-link" id="index-tab" data-bs-toggle="tab" href="#index" role="tab">Index</a>
                        </li>
                    </ul>
                    <div class="tab-content mt-2">
                        <div class="tab-pane fade show active" id="notes" role="tabpanel">
                            <input type="checkbox" id="notesCheckbox"> Note 1
                            <br>
                            <input type="checkbox" id="notesCheckbox"> Note 2
                            <br>
                            <input type="checkbox" id="notesCheckbox"> Note 3
                        </div>
                        <div class="tab-pane fade" id="tasks" role="tabpanel">
                            <input type="checkbox" id="tasksCheckbox"> Task 1
                            <br>
                            <input type="checkbox" id="tasksCheckbox"> Task 2
                            <br>
                            <input type="checkbox" id="tasksCheckbox"> Task 3
                        </div>
                        <div class="tab-pane fade" id="index" role="tabpanel">
                            <input type="checkbox" id="indexCheckbox"> Index 1
                            <br>
                            <input type="checkbox" id="indexCheckbox"> Index 2
                            <br>
                            <input type="checkbox" id="indexCheckbox"> Index 3
                        </div>
                    </div>
                    <div class="col">
                        <button class="btn btn-primary backup-btn">Export extension data to backup (JSON)</button>
                    </div>
                    <div class="col">
                        <label for="jsonIndexInput" class="btn btn-primary index-restore-btn">Upload data to restore search index</label>
                        <input type="file" id="jsonIndexInput" name="jsonIndexInput" accept=".json" style="display: none;" />
                    </div>
                    <div class="col">
                        <label for="jsonIndexInputSelective" class="btn btn-primary index-restore-btn">Upload and select data to restore subset of search index</label>
                        <input type="file" id="jsonIndexInputSelective" name="jsonIndexInputSelective" accept=".json" style="display: none;" />
                    </div>
                    <div class="col">
                        <label for="jsonInput" class="btn btn-primary tasks-restore-btn">Upload data to restore tasks</label>
                        <input type="file" id="jsonInput" name="jsonInput" accept=".json" style="display: none;" />
                    </div>
                    <div class="col">
                        <label for="jsonInputSelective" class="btn btn-primary tasks-restore-btn">Upload and select data to restore subset of tasks</label>
                        <input type="file" id="jsonInputSelective" name="jsonInputSelective" accept=".json" style="display: none;" />
                    </div>
                    <div class="col selective-task-list-col" id="selective-task-list">
                        <ul class="selective-list task-list">
                        </ul>
                        <button class="btn btn-primary restore-tasks-btn">Perform overwriting restore with selection</button>
                    </div>
                    <div class="col">
                        <label for="jsonNoteInput" class="btn btn-primary note-restore-btn">Upload data to restore notes</label>
                        <input type="file" id="jsonNoteInput" name="jsonNoteInput" accept=".json" style="display: none;" />
                    </div>
                    <div class="col">
                        <label for="jsonInputSelective" class="btn btn-primary note-restore-btn">Upload and select data to restore subset of notes</label>
                        <input type="file" id="jsonNoteInputSelective" name="jsonNoteInputSelective" accept=".json" style="display: none;" />
                    </div>
                    <div class="col selective-note-list-col" id="selective-note-list">
                        <ul class="selective-list note-list">
                        </ul>
                        <button class="btn btn-primary restore-notes-btn">Perform overwriting restore with selection</button>
                    </div>
                </div>
            </div>
            <div class="settings-pane hidden" id="indexing-pane">
                <div class="section-heading index-heading">
                    Allowed sites
                </div>
                <div class="row flex settings-section align-contents-center">
                    <div class="col-auto zero-margin zero-padding index-info">Indexing will occur whenever these host names are visited.
                    </div>
                    <ul class="nav nav-tabs mt-2" id="indexerTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <a class="nav-link active" id="sites-tab" data-bs-toggle="tab" href="#sites" role="tab">Sites</a>
                        </li>
                        <li class="nav-item" role="presentation">
                            <a class="nav-link" id="urls-tab" data-bs-toggle="tab" href="#urls" role="tab">URLs</a>
                        </li
                        <li class="nav-item" role="presentation">
                            <a class="nav-link" id="regex-tab" data-bs-toggle="tab" href="#regex" role="tab">RegEx</a>
                        </li>
                        <div class="col d-flex align-items-center">
                            <input type="text" class="search-bar-sm" id="rule-search" placeholder="Type to search allow list">
                        </div>
                        <div class="col d-flex justify-content-end zero-margin">
                            <button class="btn btn-primary add-rule-btn tab-section-btn" data-bs-toggle="modal" data-bs-target="#addRuleModal">Add allow rule</button>
                        </div>
                    </ul>
                    <div class="tab-content mt-2">
                        <div class="tab-pane fade show active" id="sites" role="tabpanel">
                          <ul class="index-list" id="sites-list">
                          </ul>
                        </div>
                        <div class="tab-pane fade" id="urls" role="tabpanel">
                          <ul class="index-list" id="urls-list">
                          </ul>
                        </div>
                        <div class="tab-pane fade" id="regex" role="tabpanel">
                          <ul class="index-list" id="regex-list">
                          </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="settings-pane hidden" id="about-pane">
                Hello!
            </div>
        </div>
    </div>
    <div class="modal fade" id="addRuleModal" rule-loc="allowedSites">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="addRuleModalLabel">Add an allow rule</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="addRuleForm">
                        <div class="form-group">
                            <label for="addRuleInput">Specify rule</label>
                            <input type="text" class="form-control" id="addRuleInput" placeholder="Enter allow rule here" required>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" form="addRuleForm" data-bs-dismiss="modal" id="addRule" class="btn btn-primary">Add Rule</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="deleteRuleModal" rule-loc="allowedSites" rule-to-delete="">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="deleteRuleModalLabel">Confirm deletion</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    Are you sure you want to delete this rule?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger regex-delete-btn" data-bs-dismiss="modal" id="confirmDelete">Delete</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="ruleErrorModal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="ruleErrorModalLabel">Error</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    This allow rule already exists.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal" id="dismissError">OK</button>
                </div>
            </div>
        </div>
    </div>
    <script src="assets/jquery-3.7.1.min.js"></script>
    <script src="todo_make_settings.js"></script>
    <script src="assets/bootstrap.min.js"></script>
</body>
</html>
